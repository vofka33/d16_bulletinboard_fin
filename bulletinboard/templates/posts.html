{% extends 'flatpages/default.html' %}
{% load custom_filters %}

{% block title %}
Posts
{% endblock title %}

{% block content %}
    <h1>Все новости ({{posts|length}}) </h1>
    {% if posts %}
        <table border="1" cellpadding="5" cellspacing="0">
           <tr bgcolor="#212529" style="color: #FFFFFF" border="1">

               <td><strong>Заголовок</strong></td>
               <td><strong>Дата публикации</strong></td>
               <td><strong>Краткий текст</strong></td>

         </tr>
            {% for post in posts %}
           <tr>
               <td align="left">{{ post.title }}</td>
               <td align="left">{{ post.creation_date | date:'d M Y' }}</td>
               <td align="left">{{ post.text|truncatewords:20 }}</td>
           </tr>
           {% endfor %}

   </table>
   {% endif %}
{% endblock content %}